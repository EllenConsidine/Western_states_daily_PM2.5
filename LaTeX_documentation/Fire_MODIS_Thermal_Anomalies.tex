\subsection{MODIS Thermal Anomalies/Fire Daily L3 Global 1km (MCD14DL)}
\subsubsection*{Data Source}
\begin{itemize}[nolistsep]
\item \textbf{Contact}
\item \textbf{Citation/Link}
\item \textbf{Data (local)}
\item \textbf{Geographic Extent}
\item \textbf{Temporal Extent}
\item \textbf{Acknowledgment}
\end{itemize}
\subsubsection*{Brief Description}

We will collect data about fire detection locations, size, and fire radiative power from the MODIS Thermal Anomalies/Fire Daily L3 Global 1km (MOD14 and MYD14) \citep{Giglio2006,Hawbaker2017}. 
Using GIS techniques, we will create daily clusters of fire points and use these to calculate: (1) the distance to the nearest fire cluster by day and (2) the sum of Fire Radiative Power (FRP) of the nearest clusters of fires by day as it is likely that smoke levels are higher closer to fires. The MODIS product spans longer than our study period (2008-2014) at daily temporal resolution and has a spatial resolution of 1 km.

\subsubsection*{Notes}
Had to manually add the projection file after running active\_fire.py script

\subsubsection*{File Format} .shp
\subsubsection*{Data Filtering and Processing}
\subsubsection*{Final Variable(s)}
\subsubsection*{Methods}
\begin{enumerate}
\item Navigate to the \href{https://firms.modaps.eosdis.nasa.gov/download/}{NASA EarthData FIRMS Archive Download site}
\item Select "Create new Request"
\item In the dropdown for region, select "Custom Region" and draw a bounding box around study area
\item In the dropdown for fire data source, select "MODIS C6"
\item Select dates for study time period
\item In the dropdown for file type, select "Shapefile (.shp)"
\item Enter your email address
\item You will get an email with a download link containing a zipfile with the data
\item Run active\_fire.py with the required arguments. This script will spatially join the fire data with the timezone data. This is a necessary step for adjusting the timestamp from UTC to local in the next step.
\item Create fields "ACQ\_TIME" and "ACQ\_DATE" in ArcMap, QGIS, or any other method of your choosing in the output shp file from the previous step. Extract the time and date from the "adj\_time" column to populate these new fields. 
\item Run buffers.py with the required arguments. This script will take in a csv file with lat, lon, and dates (the PM2.5 stations/points of interest), a shp file with buffers around each of these observation (specified as arguments), the fire shp file that was edited in the previous step, 
and an output csv filename. The output is a csv file similar to the input csv, but with an additional columns that includes the number of active fires in each buffer. Note: the buffer shp file used in this study was created with geodesic buffering due to the large buffer sizes used (25km, 50km, 100km, 500km radiuses).
We decided that it would be better to use geodesic buffering for large areas (as opposed to planar buffering) because the they will not be affected by distortion introduced from the projection, which is a bigger issue with larger areas.
\item Run merge\_with\_zeros.py with the required arguments. This merges the dataframe created in the previous step with the original dataframe of station locations and dates with over 1 million rows. It matches the rows with fire counts and give a value of 0 for all else.
\end{enumerate}
\subsubsection*{Quality Control}
\subsubsection*{Script Names}
\begin{enumerate}
\item active\_fire.py
\item buffers.py
\item merge\_with\_zeros.py
\end{enumerate}
\subsubsection*{Data File Names}
\begin{enumerate}
\item timezones\_western\_us.json
\end{enumerate}
